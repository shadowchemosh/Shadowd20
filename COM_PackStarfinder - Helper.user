<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="mecP7Starf" name="Starfinder Mechanic" compset="Mechanics" uniqueness="useronce">
    <usesource source="pStarPack"/>
    <tag group="Usage"    tag="P7Charges"  name=" Charges"/>
    <tag group="Usage"    tag="P7Darts"    name=" Darts"/>
    <tag group="Usage"    tag="P7Shells"   name=" Shells"/>
    <tag group="Usage"    tag="P7MiniRock" name=" Mini-rockets"/>
    <tag group="Usage"    tag="P7Petrol"   name=" Petrol"/>
    <tag group="Usage"    tag="P7Arrows"   name=" Arrows"/>
    <tag group="Usage"    tag="P7Grenade"  name=" Grenades"/>
    <tag group="Usage"    tag="P7Missile"  name=" Missile"/>
    <tag group="Usage"    tag="P7Uses"     name=" Uses"/>
    <tag group="Usage"    tag="P7Flares"   name=" Flares"/>
    <tag group="Usage"    tag="P7Rounds"   name=" Rounds"/>

    <tag group="wSpecial" tag="P7xOperati" name="Operative"/>
    <tag group="wSpecial" tag="P7xAnalog"  name="Analog"/>
    <tag group="wSpecial" tag="P7xPowered" name="Powered"/>
    <tag group="wSpecial" tag="P7xArchaic" name="Archaic"/>
    <tag group="wSpecial" tag="P7xBlock"   name="Block"/>
    <tag group="wSpecial" tag="P7xBright"  name="Bright"/>
    <tag group="wSpecial" tag="P7xInject"  name="Injection"/>
    <tag group="wSpecial" tag="P7xStun"    name="Stun"/>
    <tag group="wSpecial" tag="P7xUnwield" name="Unwieldy"/>
    <tag group="wSpecial" tag="P7xLine"    name="Line"/>
    <tag group="wSpecial" tag="P7xBost14"  name="Boost 1d4"/>
    <tag group="wSpecial" tag="P7xBost16"  name="Boost 1d6"/>
    <tag group="wSpecial" tag="P7xBost18"  name="Boost 1d8"/>
    <tag group="wSpecial" tag="P7xBost24"  name="Boost 2d4"/>
    <tag group="wSpecial" tag="P7xBost110" name="Boost 1d10"/>
    <tag group="wSpecial" tag="P7xBost210" name="Boost 2d10"/>
    <tag group="wSpecial" tag="P7xPenetra" name="Penetrating"/>
    <tag group="wSpecial" tag="P7xExp05"   name="Explode (5 ft.)"/>
    <tag group="wSpecial" tag="P7xExp10"   name="Explode (10 ft.)"/>
    <tag group="wSpecial" tag="P7xExp15"   name="Explode (15 ft.)"/>
    <tag group="wSpecial" tag="P7xExp20"   name="Explode (20 ft.)"/>
    <tag group="wSpecial" tag="P7xExp25"   name="Explode (25 ft.)"/>
    <tag group="wSpecial" tag="P7xExp30"   name="Explode (30 ft.)"/>
    <tag group="wSpecial" tag="P7xBlast"   name="Blast"/>
    <tag group="wSpecial" tag="P7xDisarm"  name="Disarm"/>
    <tag group="wSpecial" tag="P7xReach"   name="Reach"/>
    <tag group="wSpecial" tag="P7xTrip"    name="Trip"/>
    <tag group="wSpecial" tag="P7xNonLeth" name="Nonlethal"/>
    <tag group="wSpecial" tag="P7xAutomat" name="Automatic"/>
    <tag group="wSpecial" tag="P7xSnp250"  name="Sniper (250 ft.)"/>
    <tag group="wSpecial" tag="P7xSnp500"  name="Sniper (500 ft.)"/>
    <tag group="wSpecial" tag="P7xSnp750"  name="Sniper (750 ft.)"/>
    <tag group="wSpecial" tag="P7xSnp1000" name="Sniper (1,000 ft.)"/>

    <tag group="wSpecial" tag="P7Usage01"  name="Usage 1"/>
    <tag group="wSpecial" tag="P7Usage02"  name="Usage 2"/>
    <tag group="wSpecial" tag="P7Usage03"  name="Usage 3"/>
    <tag group="wSpecial" tag="P7Usage04"  name="Usage 4"/>
    <tag group="wSpecial" tag="P7Usage05"  name="Usage 5"/>
    <tag group="wSpecial" tag="P7Usage06"  name="Usage 6"/>
    <tag group="wSpecial" tag="P7Usage07"  name="Usage 7"/>
    <tag group="wSpecial" tag="P7Usage08"  name="Usage 8"/>
    <tag group="wSpecial" tag="P7Usage09"  name="Usage 9"/>
    <tag group="wSpecial" tag="P7Usage10"  name="Usage 10"/>
    <tag group="wSpecial" tag="P7Usage11"  name="Usage 11"/>
    <tag group="wSpecial" tag="P7Usage12"  name="Usage 12"/>
    <tag group="wSpecial" tag="P7Usage13"  name="Usage 13"/>
    <tag group="wSpecial" tag="P7Usage14"  name="Usage 14"/>
    <tag group="wSpecial" tag="P7Usage15"  name="Usage 15"/>
    <tag group="wSpecial" tag="P7Usage16"  name="Usage 16"/>
    <tag group="wSpecial" tag="P7Usage17"  name="Usage 17"/>
    <tag group="wSpecial" tag="P7Usage18"  name="Usage 18"/>
    <tag group="wSpecial" tag="P7Usage19"  name="Usage 19"/>
    <tag group="wSpecial" tag="P7Usage20"  name="Usage 20"/>

    <tag group="wSpecial" tag="P7Level01"  name=" Level 01"/>
    <tag group="wSpecial" tag="P7Level02"  name=" Level 02"/>
    <tag group="wSpecial" tag="P7Level03"  name=" Level 03"/>
    <tag group="wSpecial" tag="P7Level04"  name=" Level 04"/>
    <tag group="wSpecial" tag="P7Level05"  name=" Level 05"/>
    <tag group="wSpecial" tag="P7Level06"  name=" Level 06"/>
    <tag group="wSpecial" tag="P7Level07"  name=" Level 07"/>
    <tag group="wSpecial" tag="P7Level08"  name=" Level 08"/>
    <tag group="wSpecial" tag="P7Level09"  name=" Level 09"/>
    <tag group="wSpecial" tag="P7Level10"  name=" Level 10"/>
    <tag group="wSpecial" tag="P7Level11"  name=" Level 11"/>
    <tag group="wSpecial" tag="P7Level12"  name=" Level 12"/>
    <tag group="wSpecial" tag="P7Level13"  name=" Level 13"/>
    <tag group="wSpecial" tag="P7Level14"  name=" Level 14"/>
    <tag group="wSpecial" tag="P7Level15"  name=" Level 15"/>
    <tag group="wSpecial" tag="P7Level16"  name=" Level 16"/>
    <tag group="wSpecial" tag="P7Level17"  name=" Level 17"/>
    <tag group="wSpecial" tag="P7Level18"  name=" Level 18"/>
    <tag group="wSpecial" tag="P7Level19"  name=" Level 19"/>
    <tag group="wSpecial" tag="P7Level20"  name=" Level 20"/>

    <bootstrap thing="cfgP7Starf"></bootstrap>
    <eval phase="First" priority="50000"><![CDATA[
      ~ Hide non-starfinder skills &
      perform hero.childfound[skUseMagic].assign[Hide.Skill]
      perform hero.childfound[skAppraise].assign[Hide.Skill]]]></eval>
    </thing>
  <thing id="cfgP7Starf" name="Starfinder" compset="Configure" uniqueness="unique">
    <fieldval field="cfgMax1" value="1"/>
    <fieldval field="cfgMax2" value="1"/>
    <usesource source="srcStarRPG"/>
    <tag group="Helper" tag="Allow2Abil"/>
    <bootstrap thing="rcP7ArmCla"></bootstrap>
    <bootstrap thing="rcP7HitPoi"></bootstrap>
    </thing>
  <thing id="rcP7ArmCla" name="Starfinder Armor Class" description="Starfinder doesn’t use the concepts of flat-footed AC and touch AC, and instead breaks a character’s AC into two categories: Energy Armor Class (or EAC) and Kinetic Armor Class (or KAC). Weapons that deal energy damage (such as a laser pistol) target EAC, while weapons that deal physical damage (such as a longsword) target KAC. When converting a Pathfinder RPG monster to Starfinder, treat its normal AC as its KAC (if the monster functions in a combat role as defined on page 323 of the Pathfinder RPG Bestiary, add 1 to its KAC) and subtract 1 from its normal AC to obtain its EAC. You can ignore the flatfooted AC, because in Starfinder, flat-footed is simply a condition that applies a –2 penalty to both EAC and KAC regardless of the affected monster’s Dexterity bonus.\n\n{b}Note:{/b} KAC is being set into the AC value and EAC is being set into Touch AC. This allows the values to correctly display everywhere." compset="RaceCustom" summary="KAC is being set into the AC and EAC is being set into Touch AC." uniqueness="unique">
    <comment>abValue = KAC; abValue2 = EAC</comment>
    <usesource source="srcStarRPG"/>
    <tag group="portal" tag="cfg1Abil"/>
    <tag group="CustTaken" tag="cfgP7Starf"/>
    <tag group="SpecType" tag="ArmorClass"/>
    <tag group="AllowRCust" tag="cfgP7Starf"/>
    <eval phase="Final" priority="25000" index="1"><![CDATA[
      ~ Set KAC &
      field[abValue].value += hero.child[ArmorClass].field[tAC].value
      ~ Set EAC
      field[abValue2].value += hero.child[ArmorClass].field[tAC].value-1

      ~ Combat Role monsters get +1 KAC
      field[abValue].value += hero.tagis[RaceRole.Combat]

      hero.child[ArmorClass].field[tAC].value = field[abValue].value
      hero.child[ArmorClass].field[tACTouch].value = field[abValue2].value]]></eval>
    <eval phase="Final" priority="50000" index="2"><![CDATA[
      ~ Set display name
      field[livename].text = " EAC " & field[abValue2].value & "; KAC " & field[abValue].value

      #situational[hero.child[ArmorClass],"+8 KAC vs. combat maneuvers.","Starfinder"]
      ]]></eval>
    </thing>
  <thing id="rcP7HitPoi" name="Hit Points, Stamina Points, and Resolve Points" description="Increase a converted monster’s Hit Points by 25%. Any monster abilities that require you to know a target’s Hit Dice operate using the target’s level or CR instead. Unlike a player character, however, a monster doesn’t have Stamina Points, and it will only need to have Resolve Points if you give it a new ability (or a class feature) that uses them. If you do so, a monster should have a number of Resolve Points equal to 3 + one-fifth of its CR (rounded down).\n\n{b}Note:{/b} You can add a Resolve ability to your monster by using the Secondary Abilities on the Starfinder tab." compset="RaceCustom" summary="25% increase in HP." uniqueness="unique">
    <usesource source="srcStarRPG"/>
    <tag group="AllowRCust" tag="cfgP7Starf"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="portal" tag="cfg1Abil"/>
    <tag group="CustTaken" tag="cfgP7Starf"/>
    <eval phase="Final" priority="50000"><![CDATA[
      ~ Increase HP by 25% &
      field[abValue].value += round(herofield[tHP].value * .25,0,-1)
      herofield[tHP].value += field[abValue].value
      herofield[tCurrentHP].value += field[abValue].value]]></eval>
    </thing>
  <thing id="rcP7ResPoi" name="Resolve Points" description="Adding this ability gives your monster a set of resolve points.  A monster should have a number of Resolve Points equal to 3 + one-fifth of its CR (rounded down)." compset="RaceCustom" summary="Resolve Points equal to 3 + one-fifth of its CR (rounded down)." uniqueness="useronce">
    <fieldval field="trkMax" value="3"/>
    <tag group="Usage" tag="Day"/>
    <tag group="User" tag="Tracker"/>
    <tag group="AllowRCust" tag="cfgP7Starf"/>
    <tag group="Helper" tag="Secondary"/>
    <eval phase="Final" priority="10000"><![CDATA[
      ~ Resolve Points equal to 3 + 1/5 of its CR (rounded down). &
      var nBonusHP as number
      field[abValue].value += round(herofield[tCR].value/5,0,-1)
      field[trkMax].value += field[abValue].value]]></eval>
    </thing>
  <thing id="rcP7SinAtk" name="Starfinder Attacks" description="Choose this option to cause your pathfinder monster to work more like a Starfinder monster. Weapons will no longer show iterative attacks and to similiate weapon specialization a monster will gain a bonus on damage equal to its CR.\n\n{b}Single Attacks:{/b} Monsters in Starfinder are often more accurate than Pathfinder RPG monsters because of how full attacks work in Starfinder; for legacy monsters, the increased accuracy with its first attack in a full attack often makes up for this. If you have a converted monster that is rarely able to make a full attack, you can give it a bonus to its attack rolls when making a single attack, usually +3 or +4." compset="RaceCustom" summary="Single attack with bonus to hit and damage." uniqueness="useronce">
    <arrayval field="usrArray" index="0" value="+0 Atk"/>
    <arrayval field="usrArray" index="1" value="+3 Atk"/>
    <arrayval field="usrArray" index="2" value="+4 Atk"/>
    <usesource source="srcStarRPG"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AllowRCust" tag="cfgP7Starf"/>
    <eval phase="PreAttr" priority="25000" index="1"><![CDATA[
      ~ Give bonus to attack based on the bonus selcted &.
      If (field[usrIndex].value = 1) Then
       hero.child[Attack].field[Bonus].value += 3
      ElseIf (field[usrIndex].value = 2) Then
       hero.child[Attack].field[Bonus].value += 4
      Endif

      ~ Give bonus to Damage
      hero.child[Damage].field[Bonus].value += maximum(hero.findchild[BaseRace].field[rCR].value,1)]]></eval>
    <eval phase="Final" priority="12000" index="2"><![CDATA[
      ~ Set hero to only display one attack! &
      perform hero.assign[Dependant.NoIterAtk]

      ~ Remove multiple natural attacks &
      foreach pick in hero from BaseNatWep
        eachpick.field[wCurrNumAt].value = 1
        eachpick.field[wBaseNumAt].value = 1
        ~perform eachpick.delete[Helper.ExtraHigh]
      nexteach
      ]]>
      <before name="Assign number of Iterative attacks"/>
      </eval>
    </thing>
  <thing id="rcP7FulAtk" name="Pathfinder Full Attacks" description="Choose this option to cause your pathfinder monster to have all its normal attacks.  You can use a Pathfinder RPG monster’s full attack as it is listed without doing any conversion, resulting in a larger number of attacks that each deal less damage. This works like the multiattack ability that some monsters have in Starfinder, regardless of whether the attacks are made with manufactured or natural weapons." compset="RaceCustom" summary="Multiple full attacks." uniqueness="useronce">
    <fieldval field="actUserMin" value="3"/>
    <fieldval field="actUserMax" value="4"/>
    <fieldval field="actIncrNam" value="Atk Bonus"/>
    <usesource source="srcStarRPG"/>
    <tag group="Helper" tag="UserAdjust"/>
    <tag group="AllowRCust" tag="cfgP7Starf"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  </document>
